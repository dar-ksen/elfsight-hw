(this["webpackJsonpelfsight-hw"]=this["webpackJsonpelfsight-hw"]||[]).push([[0],{18:function(e,t,a){},20:function(e,t,a){},21:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(12),r=a.n(s),i=a(9),l=a(2),o=a(3),u=a(6),j=(a(18),a(0));Image.defaultProps={name:"Person",onPersonHandler:function(){},width:100,height:100};var d=function(e){var t=e.image,a=e.url,n=e.name,c=e.onPersonHandler,s=e.width,r=e.height;return t||(t="https://via.placeholder.com/".concat(s,"x").concat(r)),Object(j.jsx)("div",{className:"col-lg-3 col-md-6 col-sm-12 mb-4",children:Object(j.jsxs)("a",{onClick:function(e){e.preventDefault(),c()},href:a,className:"character-item",children:[Object(j.jsx)("img",{className:"character-item__img card-img-bottom",src:t,alt:n,width:s,height:r}),Object(j.jsx)("div",{className:"character-item__content",children:Object(j.jsx)("h5",{className:"character-item__title",children:n})})]})})},b=(a(20),["id"]),h=function(e){var t=e.characters,a=void 0===t?[]:t,c=e.onPersonHandler,s=a.map((function(e){var t=e.id,a=Object(u.a)(e,b);return Object(j.jsx)(n.Fragment,{children:Object(j.jsx)(d,Object(l.a)(Object(l.a)({},a),{},{onPersonHandler:function(){return c(e)}}))},t)}));return Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:s})})};h.defaultProps={characters:[],onPersonHandler:function(){}};var m=h,f=a(5),O=a.n(f),x=function(e){return e[0].toUpperCase()+e.substring(1)},p=(a(21),["name","containerClass","className","text","onFilterChange"]),v=function(e){var t=e.name,a=e.containerClass,n=e.className,c=e.text,s=e.onFilterChange,r=Object(u.a)(e,p),i=O()("form-control",n),o=O()("mb-3",a),d=x(t);return Object(j.jsxs)("div",{className:o,children:[Object(j.jsxs)("label",{className:"form-label",htmlFor:t,children:[d,":"]}),Object(j.jsx)("input",Object(l.a)({onChange:function(e){s(t,e.target.value)},name:t,id:t,className:i},r)),c&&Object(j.jsx)("div",{id:"emailHelp",className:"form-text",children:c})]})};v.defaultProps={className:"",containerClass:"",text:""};var g=v,N=(a(22),["name","className","containerClass","defaultValue","values","label","text","onFilterChange"]),C=function(e){var t=e.name,a=e.className,n=e.containerClass,c=e.defaultValue,s=e.values,r=e.label,i=e.text,o=e.onFilterChange,d=Object(u.a)(e,N),b=O()("form-select",a),h=O()("mb-3",n),m="Select for "+t;return Object(j.jsxs)("div",{className:h,children:[r&&Object(j.jsx)("label",{className:"form-label",htmlFor:t,children:r}),Object(j.jsxs)("select",Object(l.a)(Object(l.a)({name:t,id:t,className:b,onChange:function(e){o(t,e.target.value)},defaultValue:c,"aria-label":m},d),{},{children:[Object(j.jsx)("option",{value:"",children:m}),s.map((function(e){return Object(j.jsx)("option",{value:e,children:x(e)},e)}))]})),i&&Object(j.jsx)("div",{className:"form-text",children:i})]})};C.defaultProps={containerClass:"",className:"",defaultValue:"",values:[],label:"",text:""};var w=C,k=(a(23),function(e){var t=e.filters,a=e.onFilterChange;return Object(j.jsxs)("div",{className:"filter container mb-5",children:[Object(j.jsx)("h5",{className:"filter__title",children:"Filters"}),Object(j.jsxs)("div",{className:"filter__content",children:[Object(j.jsx)(g,{containerClass:"filter__item",value:t.name,name:"name",onFilterChange:a,type:"text"}),Object(j.jsx)(w,{containerClass:"filter__item",label:"Choose status:",name:"status",onFilterChange:a,values:["alive","dead","unknown"]}),Object(j.jsx)(g,{containerClass:"filter__item",value:t.species,label:"Species:",name:"species",onFilterChange:a,type:"text"}),Object(j.jsx)(g,{containerClass:"filter__item",value:t.type,label:"Type:",name:"type",onFilterChange:a,type:"text"}),Object(j.jsx)(w,{containerClass:"filter__item",label:"Gender:",name:"gender",onFilterChange:a,values:["female","male","genderless","unknown"]})]})]})});k.defaultProps={filters:{},onFilterChange:function(){}};var P=k,F=(a(24),function(e){var t=e.title,a=e.count,n=e.pages;return Object(j.jsx)("header",{className:"mb-5",children:Object(j.jsx)("div",{className:"navbar navbar-dark bg-dark",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("a",{className:"navbar-brand text-uppercase",href:"/",children:t}),Object(j.jsxs)("div",{className:"navbar-info",children:[Object(j.jsxs)("span",{className:"navbar-brand",children:["pages: ",n]}),Object(j.jsxs)("span",{className:"navbar-brand",children:["count: ",a]})]})]})})})});F.defaultProps={title:"Example title",count:0,pages:0};var y=F,_=(a(25),function(e){for(var t=e.pages,a=e.currentPage,c=e.setCurrentPage,s=[],r=!1,i=1;i<=t;i++)i>=a-1&&i<=a+1||1===i||i===t?(s.push({index:i,isActive:i===a,pass:r}),r=!1):r=!0;var l=s.map((function(e){var t=e.isActive,s=e.index,r=e.pass,i="page-item ".concat(t?"active":"");return Object(j.jsxs)(n.Fragment,{children:[r?Object(j.jsx)("li",{className:"page-item",children:Object(j.jsx)("span",{className:"page-link",children:Object(j.jsx)("span",{"aria-hidden":"true",children:"\u2026"})})}):"",Object(j.jsx)("li",{className:i,children:Object(j.jsx)("button",{className:"page-link",onClick:function(e){return function(e,t){e.preventDefault(),t!==a&&c(t)}(e,s)},children:s})})]},s)}));return t<=1?null:Object(j.jsx)("nav",{className:"container","aria-label":"Charackter paginations",children:Object(j.jsxs)("ul",{className:"pagination",children:[Object(j.jsx)("li",{className:"page-item",children:Object(j.jsx)("button",{className:"page-link",disabled:1===a?"disabled":null,onClick:function(e){e.preventDefault(),a-1>1&&c(a-1)},children:"Previous"})}),l,Object(j.jsx)("li",{className:"page-item",children:Object(j.jsx)("button",{className:"page-link",disabled:a===t?"disabled":null,onClick:function(e){e.preventDefault(),a+1<=t&&c(a+1)},children:"Next"})})]})})});_.defaultProps={pages:1,currentPage:1,setCurrentPage:function(){}};var S=_,E=a(10),H=a.n(E),M=(a(39),function(e){var t=e.settings,a=e.activePerson;if(!a)return null;var n=a.image,c=a.name,s=a.species,r=a.gender,i=a.status,o=a.location;return Object(j.jsx)(H.a.Modal,Object(l.a)(Object(l.a)({},t),{},{children:Object(j.jsxs)("div",{className:"modali-body-style row",children:[Object(j.jsx)("div",{className:"col-lg-6 col-sm-12",children:Object(j.jsx)("img",{className:"img-fluid",src:n,alt:c})}),Object(j.jsxs)("div",{className:"col-lg-6 col-sm-12",children:[Object(j.jsx)("h5",{children:c}),Object(j.jsxs)("p",{children:["Status: ",i]}),Object(j.jsxs)("p",{children:["Species: ",s]}),Object(j.jsxs)("p",{children:["Gender: ",r]}),Object(j.jsxs)("p",{children:["Last known location: ",o.name]})]})]})}))});M.defaultProps={settings:{},activePerson:void 0};var T=M,V=(a(40),a.p+"static/media/error.9e2eae13.png"),B=function(e){var t=e.children;return Object(j.jsxs)("div",{className:"error-indicator",children:[t,Object(j.jsx)("img",{src:V,alt:"error icon"})]})};B.defaultProps={children:null};var D=B,L=(a(41),function(){return Object(j.jsx)("div",{className:"lds-css",children:Object(j.jsxs)("div",{className:"lds-double-ring",children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})})}),R=function(e){var t=e.hasError,a=e.isLoading,n=e.isFound,c=e.children;return t?Object(j.jsxs)(D,{children:[Object(j.jsx)("span",{className:"boom",children:"BOOM!"}),Object(j.jsx)("span",{children:"something has gone terribly wrong"}),Object(j.jsx)("span",{children:"(but we already sent Morty to fix it)"})]}):a?Object(j.jsx)(L,{}):n?c:Object(j.jsxs)(D,{children:[Object(j.jsx)("span",{className:"boom",children:"404"}),Object(j.jsx)("span",{children:"No answers found for the specified filter"}),Object(j.jsx)("span",{children:"Try to change your request"})]})};R.defaultProps={hasError:!1,isLoading:!0,isFound:!0,children:null};var U=R,A=(a(42),function(){return Object(j.jsx)("footer",{className:"mt-auto bg-dark text-white-50 py-5",children:Object(j.jsx)("div",{className:"container text-center",children:Object(j.jsxs)("p",{className:"copyright",children:["Create by ",Object(j.jsx)("a",{href:"https://github.com/dar-ksen",className:"text-white",children:"Vladimir Sukhow"})]})})})}),G=a(4),I=a.n(G),J=a(7),q=a(13),z=function(e,t){var a=Object(n.useState)(e),c=Object(o.a)(a,2),s=c[0],r=c[1];return Object(n.useEffect)((function(){var a=setTimeout((function(){r(e)}),t);return function(){clearTimeout(a)}}),[e,t]),s},K=(a(44),new function e(){var t=this;Object(q.a)(this,e),this._apiBase="https://rickandmortyapi.com/api",this.getResource=function(){var e=Object(J.a)(I.a.mark((function e(a){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(a));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(a)+", received ".concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getCharacters=Object(J.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/character/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.getFiltersCharacter=Object(J.a)(I.a.mark((function e(){var a,n,c,s=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>0&&void 0!==s[0]?s[0]:{},n=s.length>1&&void 0!==s[1]?s[1]:1,c=t.getFiltersCharacterUrl(a),e.next=5,t.getResource("/character/?page=".concat(n).concat(c));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),this.getCharacter=function(){var e=Object(J.a)(I.a.mark((function e(a){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/character/".concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getFiltersCharacterUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="";for(var a in e)""!==e[a]&&(t+="&".concat(a,"=").concat(e[a]));return t}});var Q=function(){var e=Object(n.useState)({}),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),r=Object(o.a)(s,2),u=r[0],d=r[1],b=Object(n.useState)(!0),h=Object(o.a)(b,2),f=h[0],O=h[1],x=Object(n.useState)({name:"",status:"",species:"",type:"",gender:""}),p=Object(o.a)(x,2),v=p[0],g=p[1],N=z(v,500),C=Object(n.useState)(1),w=Object(o.a)(C,2),k=w[0],F=w[1],_=Object(E.useModali)({animated:!0,title:"Person detail"}),H=Object(o.a)(_,2),M=H[0],V=H[1],B=Object(n.useState)(void 0),D=Object(o.a)(B,2),L=D[0],R=D[1];return Object(n.useEffect)((function(){O(!0),K.getFiltersCharacter(N,k).then((function(e){c(e),O(!1),d(!1)})).catch((function(e){console.error(e),d(!0)}))}),[N,k]),Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)(y,Object(l.a)({title:"Frontend Engineer Home Task"},a.info)),Object(j.jsxs)("div",{className:"container layout",children:[Object(j.jsx)("aside",{className:"sidebar",children:Object(j.jsx)(P,{onFilterChange:function(e,t){F(1),g(Object(l.a)(Object(l.a)({},v),{},Object(i.a)({},e,t)))},filters:v})}),Object(j.jsx)("main",{className:"main",children:Object(j.jsxs)(U,{hasError:u,isLoading:f,isFound:0!==Object.keys(a).length,children:[Object(j.jsx)(m,{characters:a.results,onPersonHandler:function(e){R(e),V()}}),Object(j.jsx)(S,Object(l.a)({currentPage:k,setCurrentPage:F},a.info))]})})]}),Object(j.jsx)(A,{}),Object(j.jsx)(T,{settings:M,activePerson:L})]})};r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(Q,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.c2259d4b.chunk.js.map